{"version":3,"sources":["store/authSlice.js","components/NavBar.js","pages/HomePage.js","store/toastSlice.js","hooks/toast.js","components/LoadingSpinner.js","components/BlogForm.js","pages/CreatePage.js","pages/EditPage.js","components/Card.js","components/Pagination.js","components/BlogList.js","pages/ListPage.js","pages/AdminPage.js","pages/ShowPage.js","pages/NotFoundPage.js","routes.js","components/Toast.js","ProtectedRoute.jsx","App.js","store/store.js","index.js"],"names":["authSlice","createSlice","name","initialState","isLoggedIn","reducers","login","state","localStorage","setItem","logout","removeItem","actions","NavBar","useSelector","auth","dispatch","useDispatch","_jsx","className","children","_jsxs","Link","to","style","flexDirection","onClick","NavLink","_ref","isActive","_ref2","HomePage","toastSlice","toasts","addToast","action","push","payload","removeToast","filter","toast","id","useToast","deleteToast","uuidv4","toastWithId","add","setTimeout","LoadingSpinner","role","BlogForm","editing","navigate","useNavigate","useParams","title","setTitle","useState","originalTitle","setOriginalTitle","body","setBody","originalBody","setOriginalBody","publish","setPublish","originalPublish","setOriginalPublish","titleError","setTitleError","bodyError","setBodyError","loading","setLoading","error","setError","useEffect","axios","get","then","res","data","catch","e","type","text","value","onChange","event","target","rows","checked","onSubmit","validateForm","validated","patch","console","log","post","createdAt","Date","now","disabled","goBack","defaultProps","CreatePage","EditPage","Card","Pagination","currentPage","numberOfPages","limit","currentSet","Math","ceil","lastSet","startPage","numberOfPageForSet","href","Array","fill","map","index","pageNumber","BlogList","isAdmin","location","useLocation","pageParam","URLSearchParams","search","posts","setPosts","setCurrentPage","numberOfPosts","setNumberOfPosts","setNumberOfPages","searchText","setSearchText","getPosts","useCallback","params","_page","arguments","length","undefined","_limit","_sort","_order","title_like","headers","parseInt","placeholder","onKeyUp","key","pathname","_Fragment","deleteBlog","stopPropagation","delete","page","ListPage","AdminPage","ShowPage","setPost","getPost","timestamp","toLocaleString","NotFoundPage","routes","path","element","Toast","ProtectedRoute","Navigate","App","getItem","Router","Routes","route","Route","store","configureStore","reducer","toastReducer","authReducer","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.3d29027e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  isLoggedIn: false\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    login: (state) => {\n      localStorage.setItem('isLoggedIn', 'yes');\n      state.isLoggedIn = true;\n    },\n    logout: (state) => {\n      localStorage.removeItem('isLoggedIn');\n      state.isLoggedIn = false;\n    }\n  } \n})\n\nexport const { login, logout } = authSlice.actions;\n\nexport default authSlice.reducer;","import { useDispatch, useSelector } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\nimport { login, logout } from '../store/authSlice'; \n\nconst NavBar = () => {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const dispatch = useDispatch();\n  return (\n    <nav className=\"navbar navbar-dark bg-dark\">\n        <div className=\"container\">\n          <Link className=\"navbar-brand\" to=\"/\">Home</Link>\n          <ul \n            style={{\n              flexDirection: 'row'\n            }}\n            className=\"navbar-nav\"\n          >\n            <li className=\"nav-item me-2\">\n              <button \n                className=\"text-white btn btn-link text-decoration-none\"\n                onClick={() => {\n                  if (isLoggedIn) {\n                    dispatch(logout());\n                  } else {\n                    dispatch(login());\n                  }\n                }}\n              >\n                {isLoggedIn ? 'Logout' : 'Login'}\n              </button>\n            </li>\n            {isLoggedIn ? <li className=\"nav-item me-2\">\n              <NavLink \n                className={({ isActive }) => \"nav-link\" + (isActive ? \" active\" : \"\")}\n                aria-current=\"page\" \n                to=\"/admin\"\n              >\n                Admin\n              </NavLink>\n            </li> : null}\n            <li className=\"nav-item\">\n              <NavLink \n                className={({ isActive }) => \"nav-link\" + (isActive ? \" active\" : \"\")}\n                aria-current=\"page\" \n                to=\"/blogs\"\n              >\n                Blogs\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n      </nav>\n  );\n};\n\nexport default NavBar;","const HomePage = () => {\n  return (\n    <h1>프로젝트로 배우는 리액트</h1>\n  );\n};\n\nexport default HomePage;","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  toasts: []\n};\n\nconst toastSlice = createSlice({\n  name: 'toast',\n  initialState,\n  reducers: {\n    addToast: (state, action) => {\n      state.toasts.push(action.payload);\n    },\n    removeToast: (state, action) => {\n      state.toasts = state.toasts.filter(toast => {\n        return toast.id !== action.payload\n      })\n    }\n  } \n})\n\nexport const { addToast, removeToast } = toastSlice.actions;\n\nexport default toastSlice.reducer;","import { v4 as uuidv4 } from 'uuid';\nimport { addToast as add, removeToast } from '../store/toastSlice';\nimport { useDispatch } from 'react-redux';\n\nconst useToast = () => {\n  const dispatch = useDispatch();\n\n  const deleteToast = (id) => {\n    dispatch(removeToast(id));\n  }\n\n  const addToast = (toast) => {\n    const id = uuidv4();\n    const toastWithId = {\n      ...toast,\n      id\n    }\n\n    dispatch(add(toastWithId));\n    \n    setTimeout(() => {\n      deleteToast(id);\n    }, 5000);\n  };\n\n  return {\n    addToast,\n    deleteToast\n  };\n};\n\nexport default useToast;","const LoadingSpinner = () => {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nexport default LoadingSpinner;","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router';\nimport propTypes from 'prop-types';\nimport useToast from '../hooks/toast';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst BlogForm = ({ editing }) => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const [title, setTitle] = useState('');\n  const [originalTitle, setOriginalTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [originalBody, setOriginalBody] = useState('');\n  const [publish, setPublish] = useState(false);\n  const [originalPublish, setOriginalPublish] = useState(false);\n  const [titleError, setTitleError] = useState(false);\n  const [bodyError, setBodyError] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { addToast } = useToast();\n\n  useEffect(() => {\n    if (editing) {\n      axios.get(`http://localhost:3001/posts/${id}`).then(res => {\n        setTitle(res.data.title);\n        setOriginalTitle(res.data.title);\n        setBody(res.data.body);\n        setOriginalBody(res.data.body);\n        setPublish(res.data.publish);\n        setOriginalPublish(res.data.publish);\n        setLoading(false);\n      }).catch(e => {\n        setError('something went wrong in db');\n        addToast({\n          type: 'danger',\n          text: 'something went wrong in db'\n        })\n        setLoading(false);\n      })\n    } else {\n      setLoading(false);\n    }\n  }, [id, editing]);\n\n  const isEdited = () => {\n    return title !== originalTitle \n      || body !== originalBody\n      || publish !== originalPublish;\n  };\n\n  const goBack = () => {\n    if (editing) {\n      navigate(`/blogs/${id}`);\n    } else {\n      navigate('/blogs');\n    }\n  };\n\n  const validateForm = () => {\n    let validated = true;\n\n    if (title === '') {\n      setTitleError(true);\n      validated = false;\n    }\n\n    if (body === '') {\n      setBodyError(true);\n      validated = false;\n    }\n\n    return validated;\n  }\n\n  const onSubmit = () => {\n    setTitleError(false);\n    setBodyError(false);\n    if (validateForm()) {\n      if (editing) {\n        axios.patch(`http://localhost:3001/posts/${id}`, {\n          title,\n          body,\n          publish\n        }).then(res => {\n          console.log(res);\n          navigate(`/blogs/${id}`)\n        }).catch(e => {\n          addToast({\n            type: 'danger',\n            text: 'We could not update blog'\n          })\n        })\n      } else {\n        axios.post('http://localhost:3001/posts', {\n          title,\n          body,\n          publish,\n          createdAt: Date.now()\n        }).then(() => {\n          addToast({\n            type: 'success',\n            text: 'Successfully created!'\n          });\n          navigate('/admin');\n        }).catch(e => {\n          addToast({\n            type: 'danger',\n            text: 'We could not create blog'\n          })\n        })\n      }\n    }\n  };\n\n  const onChangePublish = (e) => {\n    setPublish(e.target.checked);\n  };\n\n  if (loading) {\n    return <LoadingSpinner />\n  }\n\n  if (error) {\n    return (<div>{error}</div>)\n  }\n\n  return (\n    <div>\n      <h1>{editing ? 'Edit' : 'Create'} a blog post</h1>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Title</label>\n        <input \n          className={`form-control ${titleError ? 'border-danger': ''}`}\n          value={title}\n          onChange={(event) => {\n            setTitle(event.target.value);\n          }}\n        />\n        {titleError && <div className=\"text-danger\">\n          Title is required.\n        </div>}\n      </div>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Body</label>\n        <textarea \n          className={`form-control ${bodyError ? 'border-danger': ''}`}\n          value={body}\n          onChange={(event) => {\n            setBody(event.target.value);\n          }}\n          rows=\"10\"\n        />\n        {bodyError && <div className=\"text-danger\">\n          Body is required.\n        </div>}\n      </div>\n      <div className=\"form-check mb-3\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={publish}\n            onChange={onChangePublish}\n          />\n          <label className=\"form-check-label\">\n            Publish\n          </label>\n      </div>\n\n      <button \n        className=\"btn btn-primary\"\n        onClick={onSubmit}\n        disabled={editing && !isEdited()}\n      >\n        {editing ? 'Edit' : 'Post' }\n      </button>\n      <button \n        className=\"btn btn-danger ms-2\"\n        onClick={goBack}\n      >\n        Cancel\n      </button>\n    </div>\n  );\n};\n\nBlogForm.propTypes = {\n  editing: propTypes.bool\n}\n\nBlogForm.defaultProps = {\n  editing: false\n}\n\nexport default BlogForm;","import BlogForm from \"../components/BlogForm\";\n\nconst CreatePage = ({ addToast }) => {\n  return (\n    <div>\n      <BlogForm addToast={addToast} />\n    </div>\n  );\n};\n\nexport default CreatePage;","import BlogForm from \"../components/BlogForm\";\n\nconst EditPage = () => {\n  return (\n    <div>\n      <BlogForm editing={true} />\n    </div>\n  );\n};\n\nexport default EditPage;","import PropTypes from 'prop-types';\n\nconst Card = ({ title, onClick, children }) => {\n  return (\n    <div \n      className=\"card mb-3 cursor-pointer\"\n      onClick={onClick}\n    >\n      <div className=\"card-body py-2 d-flex align-items-center\">\n        <div className=\"flex-grow-1\">{title}</div>\n        {children && <div>{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.element,\n  onClick: PropTypes.func,\n};\n\nCard.defaultProps = {\n  children: null,\n  onClick: () => {},\n};\n\nexport default Card;","import propTypes from \"prop-types\";\n\nconst Pagination = ({ currentPage, numberOfPages, onClick, limit }) => {\n  const currentSet = Math.ceil(currentPage/limit);\n  const lastSet = Math.ceil(numberOfPages/limit);\n  const startPage = limit * (currentSet - 1) + 1; \n  const numberOfPageForSet = currentSet === lastSet ? numberOfPages%limit : limit\n  return (\n    <nav aria-label=\"Page navigation example\">\n      <ul className=\"pagination justify-content-center\">\n        {currentSet !== 1 && <li className=\"page-item\">\n          <div \n            className=\"page-link cursor-pointer\" href=\"#\"\n            onClick={() => onClick(startPage - limit)}\n          >\n            Previous\n          </div>\n        </li>}\n        {Array(numberOfPageForSet).fill(startPage)\n          .map((value, index) => value + index)\n          .map((pageNumber) => {\n            return <li \n              key={pageNumber}\n              className={`page-item ${currentPage === pageNumber ? 'active' : ''}`}\n            >\n              <div \n                className=\"page-link cursor-pointer\"\n                onClick={() => {\n                  onClick(pageNumber);\n                }}\n              >\n                {pageNumber}\n              </div>\n            </li>\n          })}\n        {currentSet !== lastSet && <li className=\"page-item\">\n          <div \n            className=\"page-link cursor-pointer\" href=\"#\"\n            onClick={() => onClick(startPage + limit)}\n          >\n            Next\n          </div>\n        </li>}\n      </ul>\n    </nav>\n  )\n}\n\nPagination.propTypes = {\n  currentPage: propTypes.number,\n  numberOfPages: propTypes.number.isRequired,\n  onClick: propTypes.func.isRequired,\n  limit: propTypes.number\n}\n\nPagination.defaultProps = {\n  currentPage: 1,\n  limit: 5\n}\n\nexport default Pagination;","import axios from 'axios';\nimport { useState, useEffect, useCallback } from 'react';\nimport Card from '../components/Card';\nimport { useNavigate } from 'react-router';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport Pagination from './Pagination';\nimport { useLocation } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport useToast from '../hooks/toast';\n\nconst BlogList = ({ isAdmin }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const pageParam = params.get('page');\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [numberOfPosts, setNumberOfPosts] = useState(0);\n  const [numberOfPages, setNumberOfPages] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const [error, setError] = useState('');\n\n  const { addToast } = useToast();\n  const limit = 5;\n\n  useEffect(() => {\n    setNumberOfPages(Math.ceil(numberOfPosts/limit));\n  }, [numberOfPosts]);\n\n  const onClickPageButton = (page) => {\n    navigate(`${location.pathname}?page=${page}`)\n    setCurrentPage(page);\n    getPosts(page);\n  }\n  \n  const getPosts = useCallback((page = 1) => {\n    let params = {\n      _page: page,\n      _limit: limit,\n      _sort: 'id',\n      _order: 'desc',\n      title_like: searchText\n    }\n\n    if (!isAdmin) {\n      params = { ...params, publish: true };\n    }\n\n    axios.get(`http://localhost:3001/posts`, {\n      params\n    }).then((res) => {\n      setNumberOfPosts(res.headers['x-total-count']);\n      setPosts(res.data);\n      setLoading(false);\n    }).catch(e => {\n      setLoading(false);\n      setError('Something went wrong in database');\n      addToast({\n        text: 'Something went wrong',\n        type: 'danger'\n      })\n    })\n  }, [isAdmin, searchText])\n\n  useEffect(() => {\n    setCurrentPage(parseInt(pageParam) || 1);\n    getPosts(parseInt(pageParam) || 1)\n  }, []);\n\n  const deleteBlog = (e, id) => {\n    e.stopPropagation();\n    \n    axios.delete(`http://localhost:3001/posts/${id}`).then(() => {\n      // setPosts(prevPosts => prevPosts.filter(post => post.id !== id));\n      getPosts(1);\n      addToast({\n        text: 'Successfully deleted',\n        type: 'success'\n      });\n    }).catch(e => {\n      addToast({\n        text: 'The blog could not be deleted.',\n        type: 'danger'\n      })\n    });\n  };\n  \n  if (loading) {\n    return (\n      <LoadingSpinner />\n    );\n  }\n  \n  const renderBlogList = () => {\n    return posts.map(post => {\n      return (\n        <Card \n          key={post.id} \n          title={post.title} \n          onClick={() => navigate(`/blogs/${post.id}`)} \n        >\n          {isAdmin ? (<div>\n            <button \n              className=\"btn btn-danger btn-sm\"\n              onClick={(e) => deleteBlog(e, post.id)}\n            >\n              Delete\n            </button>\n          </div>) : null}\n        </Card>\n      );\n    })\n  }\n\n  const onSearch = (e) => {\n    if (e.key === 'Enter') {\n      navigate(`${location.pathname}?page=1`)\n      setCurrentPage(1);\n      getPosts(1);\n    }\n  }\n\n  if (error) {\n    return <div>{error}</div>\n  }\n\n  return (\n    <div>\n      <input \n        type=\"text\"\n        placeholder=\"Search..\"\n        className=\"form-control\"\n        value={searchText}\n        onChange={(e) => setSearchText(e.target.value)}\n        onKeyUp={onSearch}\n      />\n      <hr />\n      {posts.length === 0 \n        ? <div>No blog posts found</div> \n        : <>\n          {renderBlogList()}\n          {numberOfPages > 1 && <Pagination \n            currentPage={currentPage} \n            numberOfPages={numberOfPages} \n            onClick={onClickPageButton}\n          />}\n        </>}\n      \n    </div>\n  )\n};\n\nBlogList.propTypes = {\n  isAdmin: propTypes.bool\n};\n\nBlogList.defaultProps = {\n  isAdmin: false\n}\n\nexport default BlogList;","import BlogList from '../components/BlogList';\n\nconst ListPage = () => {\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between\">\n        <h1>Blogs</h1>\n      </div>\n      <BlogList />\n    </div>\n  );\n};\n\nexport default ListPage;","import { Link } from 'react-router-dom'; \nimport BlogList from '../components/BlogList';\n\nconst AdminPage = () => {\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between\">\n        <h1>Admin</h1>\n        <div>\n          <Link to=\"/blogs/create\" className=\"btn btn-success\">\n            Create New\n          </Link>\n        </div>\n      </div>\n      <BlogList isAdmin={true} />\n    </div>\n  );\n};\n\nexport default AdminPage;","import { useParams } from \"react-router\";\nimport axios from 'axios';\nimport { useEffect, useState } from \"react\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport useToast from \"../hooks/toast\";\n\nconst ShowPage = () => {\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const { addToast } = useToast(); \n  const [error, setError] = useState('');\n\n  const getPost = (id) => {\n    axios.get(`http://localhost:3001/posts/${id}`).then((res) => {\n      setPost(res.data)\n      setLoading(false);\n    }).catch(e => {\n      setError('something went wrong in db');\n      addToast({\n        type: 'danger',\n        text: 'something went wrong in db'\n      })\n      setLoading(false);\n    })\n  };\n\n  useEffect(() => {\n    getPost(id)\n  }, [id])\n\n  const printDate = (timestamp) => {\n    return new Date(timestamp).toLocaleString();\n  }\n\n  if (loading) {\n    return <LoadingSpinner />\n  }\n\n  if (error) {\n    return (<div>{error}</div>)\n  }\n\n  return (\n    <div>\n      <div className=\"d-flex\">\n        <h1 className=\"flex-grow-1\">{post.title}</h1>\n        {isLoggedIn && <div>\n          <Link \n            className=\"btn btn-primary\"\n            to={`/blogs/${id}/edit`}\n          >\n            Edit\n          </Link>\n        </div>}\n      </div>\n      <small className=\"text-muted\">\n        Created At: {printDate(post.createdAt)}\n      </small>\n      <hr />\n      <p>{post.body}</p>\n    </div>\n  );\n};\n\nexport default ShowPage;","const NotFoundPage = () => {\n  return (\n    <div>404 Page Not Found</div>\n  )\n}\n\nexport default NotFoundPage;","import HomePage from './pages/HomePage';\nimport CreatePage from './pages/CreatePage';\nimport EditPage from './pages/EditPage';\nimport ListPage from './pages/ListPage';\nimport AdminPage from './pages/AdminPage';\nimport ShowPage from './pages/ShowPage';\nimport NotFoundPage from './pages/NotFoundPage';\n\nconst routes = [\n  {\n    path: '/',\n    element: <HomePage />\n  },\n  {\n    path: '/blogs',\n    element: <ListPage />\n  },\n  {\n    path: '/admin',\n    element: <AdminPage />,\n    auth: true\n  },\n  {\n    path: '/blogs/create',\n    element: <CreatePage />,\n    auth: true\n  },\n  {\n    path: '/blogs/:id/edit',\n    element: <EditPage />,\n    auth: true\n  },\n  {\n    path: '/blogs/:id',\n    element: <ShowPage />\n  },\n  {\n    path: '*',\n    element: <NotFoundPage />\n  }\n];\n\nexport default routes;","import propTypes from \"prop-types\";\n\nconst Toast = ({ toasts, deleteToast }) => {\n  return (\n    <div className=\"position-fixed bottom-0 end-0 p-2\">\n      {toasts.map(toast => {\n        return (\n          <div\n            key={toast.id}\n            onClick={() => {deleteToast(toast.id)}} \n            className={`cursor-pointer alert alert-${toast.type || 'success'} m-0 py-2 mt-2`}\n          >\n            {toast.text}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nToast.propTypes = {\n  toasts: propTypes.arrayOf(propTypes.shape({\n    text: propTypes.string,\n    type: propTypes.string\n  })).isRequired,\n  deleteToast: propTypes.func.isRequired,\n}\n\nToast.defaultProps = {\n  toasts: []\n}\n\nexport default Toast;","import { useSelector } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = (\n  {element}\n) => {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  if (!isLoggedIn) {\n    return <Navigate to=\"/\" />\n  }\n\n  return element;\n};\n\nexport default ProtectedRoute;","import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n} from 'react-router-dom';\nimport NavBar from './components/NavBar';\nimport routes from './routes';\nimport Toast from './components/Toast';\nimport useToast from './hooks/toast';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ProtectedRoute from './ProtectedRoute';\nimport { useEffect, useState } from 'react';\nimport { login } from './store/authSlice';\nimport LoadingSpinner from './components/LoadingSpinner';\n\nfunction App() {\n  const toasts = useSelector(state => state.toast.toasts);\n  const { deleteToast } = useToast();\n  const [loading, setLoading] = useState(true);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (localStorage.getItem('isLoggedIn')) {\n      dispatch(login());\n    }\n    setLoading(false);\n  }, []);\n\n  if (loading) {\n    return <LoadingSpinner />\n  }\n\n  return (\n    <Router>\n      <NavBar />\n      <Toast \n        toasts={toasts}\n        deleteToast={deleteToast}\n      />\n      <div className=\"container mt-3\">\n        <Routes>\n          {routes.map((route) => {       \n            return <Route \n              key={route.path} \n              path={route.path} \n              element={route.auth ? <ProtectedRoute\n                element={route.element}\n              /> : route.element} \n            />\n          })}\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","import { configureStore } from '@reduxjs/toolkit'\nimport toastReducer from './toastSlice'\nimport authReducer from './authSlice'\n\nexport const store = configureStore({\n  reducer: {\n    toast: toastReducer,\n    auth: authReducer\n  },\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}